{{ if (eq .chezmoi.os "windows") -}}

Write-Output "THIS IS WIP"

<#

# Detect latest version
$release = Invoke-RestMethod -Uri "https://api.github.com/repos/unkn0wn-root/resterm/releases/latest"
$tag = $release.tag_name

# Map PROCESSOR_ARCHITECTURE to the release naming convention
$arch = if ($env:PROCESSOR_ARCHITECTURE -eq 'ARM64') { 'arm64' } else { 'x86_64' }
$asset = "resterm_Windows_$arch"

# Download and rename to resterm.exe
Invoke-WebRequest -Uri "https://github.com/unkn0wn-root/resterm/releases/download/$tag/$asset" -OutFile $asset
Rename-Item $asset resterm.exe -Force

# Move into a directory on your PATH (update the destination to your preference)
Move-Item resterm.exe "$env:USERPROFILE\bin\resterm.exe" -Force

#>

# vim:ft=ps1.chezmoitmpl

{{ end -}}
